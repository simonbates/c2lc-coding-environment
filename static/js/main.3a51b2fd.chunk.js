(this["webpackJsonpc2lc-coding-environment"]=this["webpackJsonpc2lc-coding-environment"]||[]).push([[0],{104:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),i=n.n(o),c=(n(74),n(6)),s=n(7),l=n(9),d=n(8),m=n(10),u=n(37),h=n(113),p=n(114),g=n(109),f=n(108),v=n(59),C=n(115),k=n(107),b=n(110),E=n(111),y=n(112),P=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement(E.a.Container,{id:this.props.id,defaultActiveKey:this.props.defaultActiveKey},a.createElement(y.a,{variant:"tabs"},a.Children.map(this.props.children,(function(e){return a.createElement(y.a.Item,null,a.createElement(y.a.Link,{eventKey:e.props.eventKey},e.props.title))}))),a.createElement(E.a.Content,null,this.props.children))}}]),t}(a.Component),S=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement(E.a.Pane,{eventKey:this.props.eventKey,title:this.props.title},this.props.children)}}]),t}(a.Component),A=n(52),w=(n(84),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){n.props.onChange(n.props.commandName===n.props.selectedCommandName?null:n.props.commandName)},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(A.a,{className:"CommandPaletteCommand__command-button",variant:this.props.commandName===this.props.selectedCommandName?"outline-primary":"light","aria-label":this.props.intl.formatMessage({id:"CommandPaletteCommand.".concat(this.props.commandName)}),"aria-pressed":this.props.commandName===this.props.selectedCommandName?"true":"false",onClick:this.handleClick},r.a.createElement(k.a,{src:this.props.icon}))}}]),t}(r.a.Component)),O=Object(u.c)(w),x=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,[{key:"connect",value:function(){var e=this;return new Promise((function(t,n){navigator.bluetooth.requestDevice({filters:[{services:["af237777-879d-6186-1f49-deca0e85d9c1"]}]}).then((function(e){return e.gatt.connect()})).then((function(e){return e.getPrimaryService("af237777-879d-6186-1f49-deca0e85d9c1")})).then((function(e){return e.getCharacteristic("af230002-879d-6186-1f49-deca0e85d9c1")})).then((function(n){e.commandCharacteristic=n,t()})).catch((function(e){n(e)}))}))}},{key:"sendCommand",value:function(e,t){var n=this;return new Promise((function(a,r){n.commandCharacteristic.writeValue(new Uint8Array(e)),setTimeout((function(){a()}),t)}))}},{key:"forward",value:function(){return this.sendCommand([35,200,0,0,3,232,0,0,128],1900)}},{key:"left",value:function(){return this.sendCommand([35,0,0,157,3,232,0,0,128],1900)}},{key:"right",value:function(){return this.sendCommand([35,0,0,99,3,232,192,192,128],1900)}}]),e}(),j=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.createElement("div",null,a.createElement("button",{onClick:this.props.onClickConnect},this.props.children),a.createElement(p.a,{id:"DeviceConnectControl.".concat(this.props.connectionStatus)}))}}]),t}(a.Component);function R(e,t,n){for(e=e.slice();e.length<t;)e.push(n);return e}var B=n(53),M=n(54),F=n(55),I=n(56),N=n(57),D=n(58),_=(n(87),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleClickAdd=function(){n.toggleAction("add")},n.handleClickDelete=function(){n.toggleAction("delete")},n.handleClickStep=function(e){var t=parseInt(e.currentTarget.dataset.stepnumber,10);n.props.selectedAction&&"editorAction"===n.props.selectedAction.type?"add"===n.props.selectedAction.action?(n.props.onChange(function(e,t,n,a){return(e=R(e,t,a)).splice(t,0,n),e}(n.props.program,t,"none","none")),n.props.onSelectAction(null)):"delete"===n.props.selectedAction.action&&(n.props.onChange(function(e,t){for(e=e.slice();e.length>0&&e[e.length-1]===t;)e.pop();return e}(function(e,t){return(e=e.slice()).splice(t,1),e}(n.props.program,t),"none")),n.props.onSelectAction(null)):n.props.selectedAction&&"command"===n.props.selectedAction.type&&(n.props.onChange(function(e,t,n,a){return(e=R(e,t+1,a))[t]=n,e}(n.props.program,t,n.props.selectedAction.commandName,"none")),n.props.onSelectAction(null))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"toggleAction",value:function(e){this.props.selectedAction&&"editorAction"===this.props.selectedAction.type&&this.props.selectedAction.action===e?this.props.onSelectAction(null):this.props.onSelectAction({type:"editorAction",action:e})}},{key:"actionIsSelected",value:function(e){return this.props.selectedAction&&"editorAction"===this.props.selectedAction.type&&this.props.selectedAction.action===e}},{key:"addIsSelected",value:function(){return this.actionIsSelected("add")}},{key:"deleteIsSelected",value:function(){return this.actionIsSelected("delete")}},{key:"makeProgramBlock",value:function(e,t){switch(t){case"forward":return r.a.createElement(A.a,{key:"".concat(e,"-forward"),"data-stepnumber":e,className:"ProgramBlockEditor__program-block","aria-label":this.addIsSelected()?"".concat(this.props.intl.formatMessage({id:"ProgramBlockEditor.commandForward"},{index:e+1}),". ").concat(this.props.intl.formatMessage({id:"ProgramBlockEditor.commandOnAdd"})):this.deleteIsSelected()?"".concat(this.props.intl.formatMessage({id:"ProgramBlockEditor.commandForward"},{index:e+1}),". ").concat(this.props.intl.formatMessage({id:"ProgramBlockEditor.commandOnDelete"})):this.props.intl.formatMessage({id:"ProgramBlockEditor.commandForward"},{index:e+1}),onClick:this.handleClickStep},r.a.createElement(F.a,null));case"left":return r.a.createElement(A.a,{key:"".concat(e,"-left"),"data-stepnumber":e,className:"ProgramBlockEditor__program-block","aria-label":this.addIsSelected()?"".concat(this.props.intl.formatMessage({id:"ProgramBlockEditor.commandLeft"},{index:e+1}),". ").concat(this.props.intl.formatMessage({id:"ProgramBlockEditor.commandOnAdd"})):this.deleteIsSelected()?"".concat(this.props.intl.formatMessage({id:"ProgramBlockEditor.commandLeft"},{index:e+1}),". ").concat(this.props.intl.formatMessage({id:"ProgramBlockEditor.commandOnDelete"})):this.props.intl.formatMessage({id:"ProgramBlockEditor.commandLeft"},{index:e+1}),onClick:this.handleClickStep},r.a.createElement(B.a,null));case"right":return r.a.createElement(A.a,{key:"".concat(e,"-right"),"data-stepnumber":e,className:"ProgramBlockEditor__program-block","aria-label":this.addIsSelected()?"".concat(this.props.intl.formatMessage({id:"ProgramBlockEditor.commandRight"},{index:e+1}),". ").concat(this.props.intl.formatMessage({id:"ProgramBlockEditor.commandOnAdd"})):this.deleteIsSelected()?"".concat(this.props.intl.formatMessage({id:"ProgramBlockEditor.commandRight"},{index:e+1}),". ").concat(this.props.intl.formatMessage({id:"ProgramBlockEditor.commandOnDelete"})):this.props.intl.formatMessage({id:"ProgramBlockEditor.commandRight"},{index:e+1}),onClick:this.handleClickStep},r.a.createElement(M.a,null));case"none":return r.a.createElement(A.a,{key:"".concat(e,"-none"),"data-stepnumber":e,className:"ProgramBlockEditor__program-block","aria-label":this.addIsSelected()?"".concat(this.props.intl.formatMessage({id:"ProgramBlockEditor.commandNone"},{index:e+1}),". ").concat(this.props.intl.formatMessage({id:"ProgramBlockEditor.commandOnAdd"})):this.deleteIsSelected()?"".concat(this.props.intl.formatMessage({id:"ProgramBlockEditor.commandNone"},{index:e+1}),". ").concat(this.props.intl.formatMessage({id:"ProgramBlockEditor.commandOnDelete"})):this.props.intl.formatMessage({id:"ProgramBlockEditor.commandNone"},{index:e+1}),variant:"light",onClick:this.handleClickStep},r.a.createElement(D.a,{style:{stroke:"#888",fill:"#888"}}));default:return r.a.createElement("div",{key:"".concat(e,"-unknown")})}}},{key:"render",value:function(){for(var e=this,t="none"===this.props.program[this.props.program.length-1],n=this.props.program.map((function(t,n){return e.makeProgramBlock(n,t)})),a=this.props.program.length;a<this.props.minVisibleSteps;a++)n.push(this.makeProgramBlock(a,"none")),t=!0;return t||n.push(this.makeProgramBlock(n.length,"none")),r.a.createElement("div",{className:"ProgramBlockEditor__container"},r.a.createElement(f.a,null,r.a.createElement(v.a,{className:"ProgramBlockEditor__editor-actions"},r.a.createElement(A.a,{key:"addButton",className:"ProgramBlockEditor__editor-action-button","aria-pressed":this.addIsSelected()?"true":"false","aria-label":this.props.intl.formatMessage({id:"ProgramBlockEditor.editorAction.add"}),variant:this.addIsSelected()?"outline-primary":"light",onClick:this.handleClickAdd},r.a.createElement(I.a,null)),r.a.createElement(A.a,{key:"deleteButton",className:"ProgramBlockEditor__editor-action-button","aria-pressed":this.deleteIsSelected()?"true":"false","aria-label":this.props.intl.formatMessage({id:"ProgramBlockEditor.editorAction.delete"}),variant:this.deleteIsSelected()?"outline-primary":"light",onClick:this.handleClickDelete},r.a.createElement(N.a,null)))),r.a.createElement(f.a,null,r.a.createElement(v.a,null,n)))}}]),t}(r.a.Component)),L=Object(u.c)(_),T=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,[{key:"read",value:function(e){return 0===e.trim().length?[]:e.trim().split(/\s+/)}},{key:"print",value:function(e){return e.join(" ")}}]),e}(),G=0;var V=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){n.setState({text:e.currentTarget.value})},n.handleBlur=function(){n.props.onChange(n.props.syntax.read(n.state.text))},n.textareaId=function(e){var t="".concat(e,"-").concat(G);return G+=1,t}("texteditor"),n.state={programVer:e.programVer,text:e.syntax.print(e.program)},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:this.textareaId},r.a.createElement(p.a,{id:"ProgramTextEditor.programLabel"})),r.a.createElement("textarea",{id:this.textareaId,value:this.state.text,onChange:this.handleChange,onBlur:this.handleBlur}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.programVer!==t.programVer?{programVer:e.programVer,text:e.syntax.print(e.program)}:null}}]),t}(r.a.Component),H=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{width:"100%"}},"text"===this.props.mode?r.a.createElement(V,{program:this.props.program,programVer:this.props.programVer,syntax:this.props.syntax,onChange:this.props.onChange}):r.a.createElement(L,{minVisibleSteps:6,program:this.props.program,selectedAction:this.props.selectedAction,onSelectAction:this.props.onSelectAction,onChange:this.props.onChange}))}}]),t}(r.a.Component);var W=function(){function e(){Object(c.a)(this,e),this.commands={},this.program=[],this.programCounter=0,this.memory={},this.isRunning=!1}return Object(s.a)(e,[{key:"addCommandHandler",value:function(e,t,n){var a=this.commands[e];a||(a={},this.commands[e]=a),a[t]=n}},{key:"setProgram",value:function(e){this.program=e,this.programCounter=0}},{key:"run",value:function(e){this.program=e,this.programCounter=0,this.isRunning=!0,this.continueRun()}},{key:"continueRun",value:function(){var e=this;this.isRunning&&(this.atEnd()?this.isRunning=!1:this.step().then((function(){e.continueRun()})))}},{key:"atEnd",value:function(){return this.programCounter>=this.program.length}},{key:"step",value:function(){var e=this;return new Promise((function(t,n){e.atEnd()?t():e.doCommand(e.program[e.programCounter]).then((function(){e.programCounter=e.programCounter+1,t()}),(function(e){console.log(e.name),console.log(e.message),n(e)}))}))}},{key:"doCommand",value:function(e){var t=this.lookUpCommandHandlers(e);return 0===t.length?Promise.reject(new Error("Unknown command: ".concat(e))):this.callCommandHandlers(t)}},{key:"callCommandHandlers",value:function(e){var t=[],n=!0,a=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value;t.push(c(this))}}catch(s){a=!0,r=s}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}return Promise.all(t)}},{key:"lookUpCommandHandlers",value:function(e){var t=this.commands[e];if(t){var n=[];for(var a in t)n.push(t[a]);return n}return[]}}]),e}(),K=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={reactMicLoaded:!1},(window.AudioContext||window.webkitAudioContext)&&n.e(3).then(n.bind(null,116)).then((function(e){a.reactMicModule=e,a.setState({reactMicLoaded:!0})})),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.state.reactMicLoaded?r.a.createElement(this.reactMicModule.ReactMic,{record:this.props.enabled,strokeColor:"#FFFFFF",backgroundColor:"#444444"}):r.a.createElement("span",null)}}]),t}(r.a.Component),U=n(60),J=n.n(U),q=function(){function e(t){Object(c.a)(this,e),this.patterns=t}return Object(s.a)(e,[{key:"lookupWord",value:function(e){var t=parseInt(e);if(t||0===t)switch(t){case 0:e="zero";break;case 1:e="one";break;case 2:e="two";break;case 3:e="three";break;case 4:e="four";break;case 5:e="five";break;case 6:e="six";break;case 7:e="seven";break;case 8:e="eight";break;case 9:e="nine";break;case 10:e="ten"}var n=J()(e),a=!0,r=!1,o=void 0;try{for(var i,c=this.patterns[Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var s=i.value;if(s.pattern.test(n))return s.word}}catch(l){r=!0,o=l}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}}}]),e}();function z(e,t,n){return n-Math.floor((n-e)/(t-e))*(t-e)}n(88);var $=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={location:{x:0,y:0},directionDegrees:0,path:[]},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"forward",value:function(e){return this.setState((function(t){var n=t.directionDegrees*Math.PI/180,a=Math.sin(n)*e,r=Math.cos(n)*e,o=t.location.x+a,i=t.location.y-r,c={x1:t.location.x,y1:t.location.y,x2:o,y2:i};return{location:{x:o,y:i},path:t.path.concat([c])}})),Promise.resolve()}},{key:"turnLeft",value:function(e){return this.setState((function(t){return{directionDegrees:z(0,360,t.directionDegrees-e)}})),Promise.resolve()}},{key:"turnRight",value:function(e){return this.setState((function(t){return{directionDegrees:z(0,360,t.directionDegrees+e)}})),Promise.resolve()}},{key:"home",value:function(){this.setState({location:{x:0,y:0},directionDegrees:0})}},{key:"clear",value:function(){this.setState({path:[]})}},{key:"render",value:function(){var e="translate(".concat(this.state.location.x," ").concat(this.state.location.y,") rotate(").concat(this.state.directionDegrees," 0 0)");return r.a.createElement("div",null,r.a.createElement("span",{className:"TurtleGraphics__drawing-area",role:"img","aria-label":"Drawing area"},r.a.createElement("svg",{className:"TurtleGraphics__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"-100 -100 200 200"},this.state.path.map((function(e,t){return r.a.createElement("line",{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,key:t})})),r.a.createElement("polygon",{className:"TurtleGraphics__turtle",transform:e,points:"-6 4 6 4 0 -9"}))))}}]),t}(r.a.Component),Q=function(){function e(t){Object(c.a)(this,e),this.soundexTable=t,this.numWordsSinceFinal=0}return Object(s.a)(e,[{key:"processEvent",value:function(e){for(var t=[],n=0,a=e.resultIndex;a<e.results.length;++a){var r=e.results[a];if(r.length>0){var o=!0,i=!1,c=void 0;try{for(var s,l=r[0].transcript.trim().split(/\s+/)[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var d=s.value;if(++n>this.numWordsSinceFinal){this.numWordsSinceFinal=this.numWordsSinceFinal+1;var m=this.soundexTable.lookupWord(d);m&&t.push(m)}}}catch(u){i=!0,c=u}finally{try{o||null==l.return||l.return()}finally{if(i)throw c}}}r.isFinal&&(this.numWordsSinceFinal=0)}return t}}]),e}(),X=function(){function e(t,n){var a=this;Object(c.a)(this,e),this.handleResult=function(e){var t=a.eventProcessor.processEvent(e),n=!0,r=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var s=i.value;a.onWord(s)}}catch(l){r=!0,o=l}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}},this.onWord=n,this.speechRecognitionInstance=new window.webkitSpeechRecognition,this.speechRecognitionInstance.lang="en-CA",this.speechRecognitionInstance.continuous=!0,this.speechRecognitionInstance.interimResults=!0,this.speechRecognitionInstance.maxAlternatives=1,this.speechRecognitionInstance.onresult=this.handleResult,this.eventProcessor=new Q(t)}return Object(s.a)(e,[{key:"start",value:function(){this.speechRecognitionInstance.start()}},{key:"stop",value:function(){this.speechRecognitionInstance.stop()}},{key:"logSpeechRecognitionEvent",value:function(e){console.log("****"),console.log("resultIndex: ".concat(e.resultIndex)),console.log("resultsLength: ".concat(e.results.length));for(var t=0;t<e.results.length;++t){var n=e.results[t];console.log("results[".concat(t,"].length: ").concat(n.length)),console.log("results[".concat(t,"].isFinal: ").concat(n.isFinal));for(var a=0;a<n.length;++a){var r=n[a];console.log("alternative ".concat(a,".transcript: ").concat(r.transcript)),console.log("alternative ".concat(a,".confidence: ").concat(r.confidence))}}}}]),e}(),Y=n(61),Z=n(62),ee=n.n(Z),te=n(63),ne=n.n(te),ae=n(64),re=n.n(ae),oe=n(65),ie=n.n(oe),ce=(n(89),n(90),function(e){return r.a.createElement(Object(u.c)((function(t){var n=t.intl;return e(n)})))}),se=function(e){function t(e){var n;if(Object(c.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleChangeLanguage=function(e){n.setStateSettings({language:e.currentTarget.value})},n.handleChangeProgram=function(e){n.setProgram(e)},n.handleClickRun=function(){null!==n.turtleGraphicsRef.current&&n.turtleGraphicsRef.current.clear(),null!==n.turtleGraphicsRef.current&&n.turtleGraphicsRef.current.home(),n.interpreter.run(n.state.program)},n.handleClickConnectDash=function(){n.setState({dashConnectionStatus:"connecting"}),n.dashDriver.connect().then((function(){n.setState({dashConnectionStatus:"connected"})}),(function(e){console.log("ERROR"),console.log(e.name),console.log(e.message),n.setState({dashConnectionStatus:"notConnected"})}))},n.handleModeChange=function(e){var t="text"===e.target.name?"text":"block";n.setStateSettings({editorMode:t})},n.handleSpeechCommand=function(e){n.interpreter.doCommand(e)},n.handleToggleSpeech=function(e){n.setState({speechRecognitionOn:e.target.checked})},n.handleAppendToProgram=function(e){n.setState((function(t){return{program:n.state.program.concat([e]),programVer:t.programVer+1}}))},n.handleCommandFromCommandPalette=function(e){e?n.setState({selectedAction:{type:"command",commandName:e}}):n.setState({selectedAction:null})},n.handleSelectAction=function(e){n.setState({selectedAction:e})},n.appContext={bluetoothApiIsAvailable:!!navigator.bluetooth,speechRecognitionApiIsAvailable:!!window.webkitSpeechRecognition},n.state={program:["forward","left","forward","left","forward","left","forward","left"],programVer:1,settings:{dashSupport:n.appContext.bluetoothApiIsAvailable,editorMode:"block",language:"en"},dashConnectionStatus:"notConnected",speechRecognitionOn:!1,selectedAction:null},n.interpreter=new W,n.interpreter.addCommandHandler("forward","turtleGraphics",(function(){return null!==n.turtleGraphicsRef.current?n.turtleGraphicsRef.current.forward(40):Promise.reject()})),n.interpreter.addCommandHandler("left","turtleGraphics",(function(){return null!==n.turtleGraphicsRef.current?n.turtleGraphicsRef.current.turnLeft(90):Promise.reject()})),n.interpreter.addCommandHandler("right","turtleGraphics",(function(){return null!==n.turtleGraphicsRef.current?n.turtleGraphicsRef.current.turnRight(90):Promise.reject()})),n.interpreter.addCommandHandler("none","noneHandler",(function(){return Promise.resolve()})),n.dashDriver=new x,n.syntax=new T,n.turtleGraphicsRef=r.a.createRef(),n.appContext.speechRecognitionApiIsAvailable){var a=new q([{pattern:/F6../,word:"forward"},{pattern:/O6../,word:"forward"},{pattern:/L1../,word:"left"},{pattern:/L2../,word:"left"},{pattern:/L3../,word:"left"},{pattern:/L.3./,word:"left"},{pattern:/L..3/,word:"left"},{pattern:/R3../,word:"right"},{pattern:/R.3./,word:"right"},{pattern:/R..3/,word:"right"}]);n.webSpeechInput=new X(a,n.handleSpeechCommand)}return n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"setProgram",value:function(e){this.setState((function(t){return{program:e,programVer:t.programVer+1}}))}},{key:"setStateSettings",value:function(e){this.setState((function(t){return{settings:Object.assign({},t.settings,e)}}))}},{key:"getSelectedCommandName",value:function(){return null!==this.state.selectedAction&&"command"===this.state.selectedAction.type?this.state.selectedAction.commandName:null}},{key:"render",value:function(){var e=this;return r.a.createElement(h.a,{locale:this.state.settings.language,messages:Y[this.state.settings.language]},r.a.createElement(g.a,null,r.a.createElement(f.a,{className:"App__mode-and-robots-section"},r.a.createElement(v.a,null,r.a.createElement(C.a,null,r.a.createElement(C.a.Toggle,null,r.a.createElement(p.a,{id:"App.changeMode"})),r.a.createElement(C.a.Menu,{onClick:this.handleModeChange},r.a.createElement(C.a.Item,{name:"text"},r.a.createElement(p.a,{id:"App.textMode"})),r.a.createElement(C.a.Item,{name:"block"},r.a.createElement(p.a,{id:"App.blockMode"}))))),r.a.createElement(v.a,null,this.state.settings.dashSupport&&r.a.createElement(j,{onClickConnect:this.handleClickConnectDash,connectionStatus:this.state.dashConnectionStatus},r.a.createElement(p.a,{id:"App.connectToDash"})))),r.a.createElement(f.a,{className:"App__editor-and-graphics-section"},r.a.createElement(v.a,null,r.a.createElement(H,{program:this.state.program,programVer:this.state.programVer,syntax:this.syntax,mode:this.state.settings.editorMode,selectedAction:this.state.selectedAction,onSelectAction:this.handleSelectAction,onChange:this.handleChangeProgram})),r.a.createElement(v.a,null,r.a.createElement("div",null,r.a.createElement($,{ref:this.turtleGraphicsRef})),r.a.createElement("div",{className:"App__interpreter-controls"},r.a.createElement("button",{onClick:this.handleClickRun,"aria-label":"Run current program ".concat(this.state.program.join(" "))},r.a.createElement(k.a,{src:ie.a}))))),r.a.createElement(f.a,{className:"App__command-palette"},r.a.createElement(v.a,null,ce((function(t){return r.a.createElement(P,{id:"commandPalette",defaultActiveKey:"movements"},r.a.createElement(S,{eventKey:"movements",title:t.formatMessage({id:"CommandPalette.movementsTitle"})},r.a.createElement(O,{commandName:"forward",icon:re.a,selectedCommandName:e.getSelectedCommandName(),onChange:e.handleCommandFromCommandPalette}),r.a.createElement(O,{commandName:"left",icon:ee.a,selectedCommandName:e.getSelectedCommandName(),onChange:e.handleCommandFromCommandPalette}),r.a.createElement(O,{commandName:"right",icon:ne.a,selectedCommandName:e.getSelectedCommandName(),onChange:e.handleCommandFromCommandPalette})),r.a.createElement(S,{eventKey:"sounds",title:t.formatMessage({id:"CommandPalette.soundsTitle"})}))})))),r.a.createElement(f.a,null,r.a.createElement(v.a,null,ce((function(t){return r.a.createElement(b.a.Check,{type:"switch",id:"custom-switch",label:t.formatMessage({id:"App.speechRecognition"}),disabled:!e.appContext.speechRecognitionApiIsAvailable,checked:e.state.speechRecognitionOn,onChange:e.handleToggleSpeech})})),r.a.createElement("div",null,r.a.createElement(K,{enabled:this.state.speechRecognitionOn})))),r.a.createElement(f.a,null,r.a.createElement(v.a,null,r.a.createElement("select",{value:this.state.settings.language,onChange:this.handleChangeLanguage},r.a.createElement("option",{value:"en"},"English"),r.a.createElement("option",{value:"fr"},"Fran\xe7ais"))))))}},{key:"componentDidUpdate",value:function(e,t){this.state.dashConnectionStatus!==t.dashConnectionStatus&&(console.log(this.state.dashConnectionStatus),"connected"===this.state.dashConnectionStatus&&(this.interpreter.addCommandHandler("forward","dash",this.dashDriver.forward.bind(this.dashDriver)),this.interpreter.addCommandHandler("left","dash",this.dashDriver.left.bind(this.dashDriver)),this.interpreter.addCommandHandler("right","dash",this.dashDriver.right.bind(this.dashDriver)))),this.state.speechRecognitionOn!==t.speechRecognitionOn&&(this.state.speechRecognitionOn?this.webSpeechInput.start():this.webSpeechInput.stop())}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},61:function(e){e.exports=JSON.parse('{"en":{"App.blockMode":"Block","App.changeMode":"Change Mode","App.connectToDash":"Connect to Dash","App.run":"Run","App.speechRecognition":"Speech Recognition","App.textMode":"Text","CommandPalette.movementsTitle":"Movements","CommandPalette.soundsTitle":"Sounds","CommandPaletteCommand.forward":"Forward","CommandPaletteCommand.left":"Left","CommandPaletteCommand.right":"Right","DeviceConnectControl.notConnected":"Not connected","DeviceConnectControl.connecting":"Connecting","DeviceConnectControl.connected":"Connected","ProgramBlockEditor.commandForward":"Forward, position {index} of current program","ProgramBlockEditor.commandLeft":"Left, position {index} of current program","ProgramBlockEditor.commandNone":"Empty block, position {index} of current program","ProgramBlockEditor.commandRight":"Right, position {index} of current program","ProgramBlockEditor.commandOnAdd":"Press to add an empty command block before this","ProgramBlockEditor.commandOnDelete":"Press to delete this command","ProgramBlockEditor.editorAction.add":"add a command to the program","ProgramBlockEditor.editorAction.delete":"delete a command from the program","ProgramTextEditor.programLabel":"Program:"},"fr":{"App.blockMode":"Block in French","App.changeMode":"Change Mode in French","App.connectToDash":"Se connecter \xe0 Dash","App.run":"Lancer","App.speechRecognition":"Speech Recognition in French","App.textMode":"Text in French","CommandPalette.movementsTitle":"Movements in French","CommandPalette.soundsTitle":"Sounds in French","CommandPaletteCommand.forward":"Forward in French","CommandPaletteCommand.left":"Left in French","CommandPaletteCommand.right":"Right in French","DeviceConnectControl.notConnected":"Pas connect\xe9","DeviceConnectControl.connecting":"Connexion en cours","DeviceConnectControl.connected":"Connect\xe9","ProgramBlockEditor.commandForward":"Forward, position {index} of current program in French","ProgramBlockEditor.commandLeft":"Left, position {index} of current program in French","ProgramBlockEditor.commandNone":"Empty block, position {index} of current program in French","ProgramBlockEditor.commandRight":"Right, position {index} of current program in French","ProgramBlockEditor.commandOnAdd":"Press to add an empty command block before this in French","ProgramBlockEditor.commandOnDelete":"Press to delete this command in French","ProgramBlockEditor.editorAction.add":"add a command to the program in French","ProgramBlockEditor.editorAction.delete":"delete a command from the program in French","ProgramTextEditor.programLabel":"Logiciel:"}}')},69:function(e,t,n){e.exports=n(104)},74:function(e,t,n){},84:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},90:function(e,t,n){}},[[69,1,2]]]);
//# sourceMappingURL=main.3a51b2fd.chunk.js.map